{"version":3,"sources":["assets/AppsFlyer.png","components/FormField.js","components/App.js","index.js"],"names":["module","exports","__webpack_require__","p","FormField","props","react_default","a","createElement","className","concat","iconName","type","name","inputName","placeholder","onChange","onInputChange","error","App","state","devKey","packageName","errorMessage","e","_this","setState","Object","defineProperty","target","value","handleSubmit","preventDefault","afDevKeyError","emailError","validateForm","isPackageNameValid","test","packageNameError","header","body","onSubmit","console","log","axios","post","isDisabled","this","src","require","alt","components_FormField","onClick","React","Component","ReactDOM","render","components_App","document","querySelector"],"mappings":"gHAAAA,EAAAC,QAAiBC,EAAAC,EAAuB,kKCmBzBC,EAjBG,SAAAC,GAChB,OACEC,EAAAC,EAAAC,cAAA,OAAKC,UAAU,eACbH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,sBACbH,EAAAC,EAAAC,cAAA,KAAGC,UAAS,GAAAC,OAAKL,EAAMM,SAAX,WACZL,EAAAC,EAAAC,cAAA,SACEI,KAAK,OACLC,KAAMR,EAAMS,UACZC,YAAaV,EAAMU,YACnBC,SAAUX,EAAMY,cAChBC,MAAM,oCCgGDC,6MAvGbC,MAAQ,CACNC,OAAQ,GACRC,YAAa,GACbC,aAAc,MAGhBN,cAAgB,SAAAO,GACdC,EAAKC,SAALC,OAAAC,EAAA,EAAAD,CAAA,GAAiBH,EAAEK,OAAOhB,KAAOW,EAAEK,OAAOC,WAG5CC,aAAe,SAAAP,GACbA,EAAEQ,iBAGwB,KAAtBP,EAAKL,MAAMC,OACbI,EAAKC,SAAS,CAAEO,eAAe,IAG/BR,EAAKC,SAAS,CAAEQ,YAAY,OAIhCC,aAAe,WACb,IAAIC,EAAqB,qDAAqDC,KAC5EZ,EAAKL,MAAME,aAab,OAXKc,EASHX,EAAKC,SAAS,CAAEY,kBAAkB,IARlCb,EAAKC,SAAS,CACZY,kBAAkB,EAClBf,aAAc,CACZgB,OAAQ,gBACRC,KAAM,mCAMLJ,KAGTK,SAAW,WACLhB,EAAKU,iBACPO,QAAQC,IAAI,SACZC,IAAMC,KAAK,iBAAkB,CAC3BvB,YAAaG,EAAKL,MAAME,YACxBD,OAAQI,EAAKL,MAAMC,mFAMvB,IAAMyB,GAAcC,KAAK3B,MAAMC,SAAW0B,KAAK3B,MAAME,YAC/CJ,EAAQ6B,KAAK3B,MAAMa,eAAiBc,KAAK3B,MAAMkB,iBAErD,OACEhC,EAAAC,EAAAC,cAAA,OAAKC,UAAU,yCACbH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,UACbH,EAAAC,EAAAC,cAAA,MAAIC,UAAU,wBACZH,EAAAC,EAAAC,cAAA,OACEwC,IAAKC,EAAQ,IACbxC,UAAU,QACVyC,IAAI,cAEN5C,EAAAC,EAAAC,cAAA,OAAKC,UAAU,WAAf,wBAEFH,EAAAC,EAAAC,cAAA,QAAMC,UAAS,iBAAAC,OAAmBQ,EAAQ,QAAU,KAClDZ,EAAAC,EAAAC,cAAA,OAAKC,UAAU,sBACbH,EAAAC,EAAAC,cAAC2C,EAAD,CACErC,UAAU,SACVC,YAAY,oBACZJ,SAAS,MACTM,cAAe8B,KAAK9B,cACpBC,MAAO6B,KAAK3B,MAAMa,gBAEpB3B,EAAAC,EAAAC,cAAC2C,EAAD,CACErC,UAAU,cACVC,YAAY,uBACZJ,SAAS,MACTM,cAAe8B,KAAK9B,cACpBC,MAAO6B,KAAK3B,MAAMkB,mBAEpBhC,EAAAC,EAAAC,cAAA,OACEC,UAAS,qCAAAC,OACPoC,EAAa,WAAa,IAE5BM,QAASL,KAAKN,UAJhB,iBASFnC,EAAAC,EAAAC,cAAA,OAAKC,UAAU,oBACbH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,WACbH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,UAAUsC,KAAK3B,MAAMG,aAAagB,QACjDjC,EAAAC,EAAAC,cAAA,SAAIuC,KAAK3B,MAAMG,aAAaiB,kBA9F1Ba,IAAMC,WCAxBC,IAASC,OACPlD,EAAAC,EAAAC,cAAA,OAAKC,UAAU,yCACbH,EAAAC,EAAAC,cAACiD,EAAD,OAEFC,SAASC,cAAc","file":"static/js/main.b5acd9b2.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/AppsFlyer.f7eae0d3.png\";","import React from \"react\";\n\nconst FormField = props => {\n  return (\n    <div className=\"field error\">\n      <div className=\"ui left icon input\">\n        <i className={`${props.iconName} icon`} />\n        <input\n          type=\"text\"\n          name={props.inputName}\n          placeholder={props.placeholder}\n          onChange={props.onInputChange}\n          error=\"props.error\"\n        />\n      </div>\n    </div>\n  );\n};\n\nexport default FormField;\n","import React from \"react\";\nimport FormField from \"./FormField\";\nimport axios from \"axios\";\n\nclass App extends React.Component {\n  state = {\n    devKey: \"\",\n    packageName: \"\",\n    errorMessage: \"\"\n  };\n\n  onInputChange = e => {\n    this.setState({ [e.target.name]: e.target.value });\n  };\n\n  handleSubmit = e => {\n    e.preventDefault();\n    let error = false;\n\n    if (this.state.devKey === \"\") {\n      this.setState({ afDevKeyError: true });\n      error = true;\n    } else {\n      this.setState({ emailError: false });\n    }\n  };\n\n  validateForm = () => {\n    let isPackageNameValid = /^([A-Za-z]{1}[A-Za-z\\d_]*\\.)+[A-Za-z][A-Za-z\\d_]*$/.test(\n      this.state.packageName\n    );\n    if (!isPackageNameValid) {\n      this.setState({\n        packageNameError: true,\n        errorMessage: {\n          header: \"Action Failed\",\n          body: \"The package name is not valid\"\n        }\n      });\n    } else {\n      this.setState({ packageNameError: false });\n    }\n    return isPackageNameValid;\n  };\n\n  onSubmit = () => {\n    if (this.validateForm()) {\n      console.log(\"valid\");\n      axios.post(\"/api/build-apk\", {\n        packageName: this.state.packageName,\n        devKey: this.state.devKey\n      });\n    }\n  };\n\n  render() {\n    const isDisabled = !this.state.devKey || !this.state.packageName;\n    const error = this.state.afDevKeyError || this.state.packageNameError;\n\n    return (\n      <div className=\"ui middle aligned center aligned grid\">\n        <div className=\"column\">\n          <h2 className=\"ui teal image header\">\n            <img\n              src={require(\"../assets/AppsFlyer.png\")}\n              className=\"image\"\n              alt=\"Appsflyer\"\n            />\n            <div className=\"content\">APK Vending Machine</div>\n          </h2>\n          <form className={`ui large form ${error ? \"error\" : \"\"}`}>\n            <div className=\"ui stacked segment\">\n              <FormField\n                inputName=\"devKey\"\n                placeholder=\"AppsFlyer dev key\"\n                iconName=\"key\"\n                onInputChange={this.onInputChange}\n                error={this.state.afDevKeyError}\n              />\n              <FormField\n                inputName=\"packageName\"\n                placeholder=\"Android package name\"\n                iconName=\"box\"\n                onInputChange={this.onInputChange}\n                error={this.state.packageNameError}\n              />\n              <div\n                className={`ui fluid large teal submit button ${\n                  isDisabled ? \"disabled\" : \"\"\n                }`}\n                onClick={this.onSubmit}\n              >\n                Generate APK\n              </div>\n            </div>\n            <div className=\"ui error message\">\n              <div className=\"content\">\n                <div className=\"header\">{this.state.errorMessage.header}</div>\n                <p>{this.state.errorMessage.body}</p>\n              </div>\n            </div>\n          </form>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./components/App\";\n\nReactDOM.render(\n  <div className=\"ui middle aligned center aligned grid\">\n    <App />\n  </div>,\n  document.querySelector(\"#root\")\n);\n"],"sourceRoot":""}